{
  "tooltip": [{ "id": "NAME_LATN", "title": "Region" }],
  "legend": {
    "title": "Water needed [mm]",
    "range": [
      "rgba(68, 1, 84, 1)",
      "rgba(70, 23, 103, 1)",
      "rgba(71, 44, 122, 1)",
      "rgba(65, 63, 131, 1)",
      "rgba(59, 81, 139, 1)",
      "rgba(52, 97, 141, 1)",
      "rgba(44, 113, 142, 1)",
      "rgba(39, 129, 142, 1)",
      "rgba(33, 144, 141, 1)",
      "rgba(39, 173, 129, 1)",
      "rgba(66, 187, 114, 1)",
      "rgba(92, 200, 99, 1)",
      "rgba(131, 210, 75, 1)",
      "rgba(170, 220, 50, 1)",
      "rgba(212, 226, 44, 1)",
      "rgba(253, 231, 37, 1)"
    ],
    "domainProperties": ["vmin", "vmax"]
  },
  "jsonform": {
    "type": "object",
    "title": "Data configuration",
    "properties": {
      "crop": {
        "title": "Crop",
        "type": "string",
        "enum": ["Maize", "Soybean", "Sunflower", "Wheat"],
        "default": "Maize"
      },
      "vstat": {
        "title": "Statistical value",
        "type": "string",
        "enum": ["average", "best", "worst"],
        "default": "average"
      },
      "vminmax": {
        "title": "Dynamic range",
        "description": "Water need [mm]",
        "type": "object",
        "properties": {
          "vmin": {
            "type": "number",
            "minimum": 0,
            "maximum": 800,
            "format": "range",
            "default": 0
          },
          "vmax": {
            "type": "number",
            "minimum": 0,
            "maximum": 800,
            "format": "range",
            "default": 500
          }
        },
        "format": "minmax"
      }
    }
  },
  "variables": {
    "vmin": 0,
    "vmax": 500,
    "crop": "Maize",
    "vstat": "average"
  },
  "text-value": [
    "concat",
    [
      "coalesce",
      ["get", "water_need", ["var", "crop"], ["var", "vstat"]],
      "N/A"
    ],
    " mm"
  ],
  "text-font": "bold 11px Arial,sans-serif",
  "text-fill-color": "white",
  "fill-color": [
    "case",
    ["==", ["get", "water_need", ["var", "crop"], ["var", "vstat"]], "N/A"],
    [253, 231, 37, 0.25],
    [
      "==",
      [
        "coalesce",
        ["get", "water_need", ["var", "crop"], ["var", "vstat"]],
        "N/A"
      ],
      "N/A"
    ],
    [253, 231, 37, 0.25],
    [
      "interpolate",
      ["linear"],
      [
        "/",
        [
          "-",
          ["get", "water_need", ["var", "crop"], ["var", "vstat"]],
          ["var", "vmin"]
        ],
        ["var", "vmax"]
      ],
      0,
      [68, 1, 84, 1],
      0.06666666666666667,
      [70, 23, 103, 1],
      0.13333333333333333,
      [71, 44, 122, 1],
      0.2,
      [65, 63, 131, 1],
      0.26666666666666666,
      [59, 81, 139, 1],
      0.3333333333333333,
      [52, 97, 141, 1],
      0.4,
      [44, 113, 142, 1],
      0.4666666666666667,
      [39, 129, 142, 1],
      0.5333333333333333,
      [33, 144, 141, 1],
      0.6,
      [39, 173, 129, 1],
      0.6666666666666666,
      [66, 187, 114, 1],
      0.7333333333333333,
      [92, 200, 99, 1],
      0.8,
      [131, 210, 75, 1],
      0.8666666666666667,
      [170, 220, 50, 1],
      0.9333333333333333,
      [212, 226, 44, 1],
      1,
      [253, 231, 37, 1]
    ]
  ],
  "stroke-color": "black",
  "stroke-width": 1
}
